var app=angular.module("game",["ui.router"]);app.config(function($stateProvider,$urlRouterProvider,$locationProvider){$urlRouterProvider.otherwise("/");$stateProvider.state("home",{url:"/",templateUrl:"views/single-player.html"});$locationProvider.html5Mode(true);$locationProvider.hashPrefix("!")});app.run(function($http,$rootScope,$timeout,$state,$location){var effect="";$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){});$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){$("body").scrollTop(0)})});app.controller("AppCtrl",function($scope,Metatags,Cards,$timeout){$scope.Metatags=Metatags;$scope.allCards=Cards.getCards();$scope.CardsRemaing=20;var lockFlip=false;var Compare=[];$scope.flipCard=function(card){if(lockFlip===false){lockFlip=true;var indexArray=card.index;$scope.allCards[indexArray].flip=true;Compare.push(card);if(Compare.length==2){result=Cards.compareCards(Compare);switch(result.status){case true:$scope.allCards[result.cardOne.index].complete=true;$scope.allCards[result.cardTwo.index].complete=true;lockFlip=false;$scope.CardsRemaing=$scope.CardsRemaing-2;break;case false:$timeout(function(){$scope.allCards[result.cardOne.index].flip=false;$scope.allCards[result.cardTwo.index].flip=false;lockFlip=false},1e3);break}Compare=[]}else{lockFlip=false}}}});app.controller("InternalCtrl",function($scope,Metatags){});app.directive("card",function(){return{restrict:"E",replace:true,scope:{card:"=",onFlip:"&"},template:'<li class="atom-card-item">'+'<a href="#" class="atom-card-container" ng-click="onFlip()" ng-class=" { \'active\' : card.flip, \'complete\' : card.complete } ">'+'<div class="atom-card-flipper">'+'<div class="atom-card-front color-{{ card.color }}"></div>'+'<div class="atom-card-back"></div>'+"</div>"+"</a>"+"</li>",link:function(scope,element,attrs){}}});app.factory("Cards",function(){return{getCards:getCards,compareCards:compareCards};function getCards(){var colors=["red","blue","beige","orange","yellow","green","pink","black","brown","purple"];var cards=$.merge(colors,colors);cards=$.shuffle(cards);var arrCards=[];var index=0;cards.forEach(function(color){card={color:color,index:index,flip:false,complete:false};arrCards.push(card);index++});return arrCards}function compareCards(arrCompare){var cardOne=arrCompare[0],cardTwo=arrCompare[1];return{cardOne:cardOne,cardTwo:cardTwo,status:cardOne.color===cardTwo.color&&cardOne.index!==cardTwo.index}}});app.factory("Metatags",function($location){var meta={title:"nvieira.com.br - Memory Game",current_link:$location.$$absUrl,body:"",img:""};return{show:function(){return meta},set:function(info){meta=info}}});
//# sourceMappingURL=app.js.map